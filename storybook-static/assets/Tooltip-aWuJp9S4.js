import{v as f,c as b,w as H,B as I,C as O,a as k,r as S,p as G,g as P,D as U,T as X,E as Y,G as x,o as w,b as B,A as j,u as E,e as q,h as J,t as K}from"./vue.esm-bundler-BXouRCJi.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=["id","aria-hidden"],ee={class:"scuba-tooltip__text"},te={__name:"Tooltip",props:{content:{type:String,default:""},position:{type:String,default:"top",validator:s=>["top","bottom","left","right"].includes(s)},variant:{type:String,default:"dark",validator:s=>["dark","light"].includes(s)},trigger:{type:String,default:"hover",validator:s=>["hover","click","focus","manual"].includes(s)},showArrow:{type:Boolean,default:!0},delay:{type:Number,default:200},offset:{type:Number,default:8},disabled:{type:Boolean,default:!1},maxWidth:{type:String,default:"300px"},id:{type:String,default:null}},emits:["show","hide"],setup(s,{expose:L,emit:W}){const t=s,v=W,c=f(null),u=f(null),o=f(!1),y=f({});let g=null,m=null;const $=b(()=>t.id?t.id:"scuba-tooltip-"+Math.random().toString(36).substr(2,9)),z=b(()=>{const e=["scuba-tooltip"];return e.push(`scuba-tooltip--${t.position}`),e.push(`scuba-tooltip--${t.variant}`),t.showArrow&&e.push("scuba-tooltip--with-arrow"),e}),M=b(()=>{const e=["scuba-tooltip__arrow"];return e.push(`scuba-tooltip__arrow--${t.position}`),e}),d=()=>{t.disabled||(clearTimeout(m),t.delay>0?g=setTimeout(()=>{o.value=!0,v("show"),x(()=>{h()})},t.delay):(o.value=!0,v("show"),x(()=>{h()})))},n=()=>{clearTimeout(g),m=setTimeout(()=>{o.value=!1,v("hide")},100)},N=()=>{t.trigger==="hover"&&d()},A=()=>{t.trigger==="hover"&&n()},R=()=>{(t.trigger==="focus"||t.trigger==="hover")&&d()},V=()=>{(t.trigger==="focus"||t.trigger==="hover")&&n()},D=()=>{t.trigger==="click"&&(o.value?n():d())},h=()=>{if(!c.value||!u.value)return;const e=c.value.getBoundingClientRect(),i=u.value.getBoundingClientRect();let a=0,l=0;const F=t.showArrow?6:0,p=t.offset+F;switch(t.position){case"top":a=e.top-i.height-p,l=e.left+e.width/2-i.width/2;break;case"bottom":a=e.bottom+p,l=e.left+e.width/2-i.width/2;break;case"left":a=e.top+e.height/2-i.height/2,l=e.left-i.width-p;break;case"right":a=e.top+e.height/2-i.height/2,l=e.right+p;break}const r=8;l<r?l=r:l+i.width>window.innerWidth-r&&(l=window.innerWidth-i.width-r),a<r?a=r:a+i.height>window.innerHeight-r&&(a=window.innerHeight-i.height-r),y.value={top:`${a+window.scrollY}px`,left:`${l+window.scrollX}px`,maxWidth:t.maxWidth}},_=e=>{t.trigger==="click"&&o.value&&c.value&&!c.value.contains(e.target)&&u.value&&!u.value.contains(e.target)&&n()},T=()=>{o.value&&h()},C=()=>{o.value&&h()};return H(()=>t.disabled,e=>{e&&o.value&&n()}),I(()=>{document.addEventListener("click",_),window.addEventListener("scroll",T,!0),window.addEventListener("resize",C)}),O(()=>{document.removeEventListener("click",_),window.removeEventListener("scroll",T,!0),window.removeEventListener("resize",C),clearTimeout(g),clearTimeout(m)}),L({show:d,hide:n,isVisible:o}),(e,i)=>(w(),k("div",{ref_key:"tooltipWrapper",ref:c,class:"scuba-tooltip-wrapper",onMouseenter:N,onMouseleave:A,onFocus:R,onBlur:V,onClick:D},[S(e.$slots,"default",{},void 0,!0),(w(),G(Y,{to:"body"},[P(X,{name:"scuba-tooltip"},{default:U(()=>[o.value?(w(),k("div",{key:0,ref_key:"tooltipContent",ref:u,class:E(z.value),style:j(y.value),role:"tooltip",id:$.value,"aria-hidden":!o.value},[s.showArrow?(w(),k("div",{key:0,class:E(M.value)},null,2)):B("",!0),q("div",ee,[S(e.$slots,"content",{},()=>[J(K(s.content),1)],!0)])],14,Z)):B("",!0)]),_:3})]))],544))}},se=Q(te,[["__scopeId","data-v-5cb9029a"]]);export{se as T};
