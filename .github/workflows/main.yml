name: Deploy Storybook to GitHub Pages

on:
  push:
    branches:
      - main
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ Checkout repository
        uses: actions/checkout@v4

      - name: ğŸŸ¢ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'

      - name: ğŸ“¦ Install dependencies
        run: npm ci

      - name: ğŸ¨ Build Storybook
        run: npm run build-storybook
        env:
          NODE_ENV: production

      - name: ğŸ“„ Setup Pages
        uses: actions/configure-pages@v4

      - name: ğŸ“¤ Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: './storybook-static'

      - name: ğŸš€ Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4

      - name: âœ… Deployment complete
        run: |
          echo "ğŸ‰ Storybook deployed successfully!"
          echo "ğŸ“ URL: ${{ steps.deployment.outputs.page_url }}"
```

### 2. Clique em "Commit changes..." (botÃ£o verde no canto superior direito)

### 3. Na janela que abrir:
- **Commit message:** `feat: add storybook deployment workflow`
- **Commit directly to the main branch** (deixe selecionado)
- Clique em **"Commit changes"**

### 4. Ir para Actions:
Clique na aba **"Actions"** no topo da pÃ¡gina

---

## âœ… O que vai acontecer:

1. âš¡ Commit direto no GitHub â†’ Workflow roda IMEDIATAMENTE
2. ğŸ”„ VocÃª verÃ¡ o workflow "Deploy Storybook to GitHub Pages" rodando
3. â±ï¸ Aguarde ~2-4 minutos
4. âœ… Status verde â†’ Deploy concluÃ­do
5. ğŸŒ Storybook online: https://atramontdeep.github.io/scuba-dev/

---

## ğŸ“Š Depois do commit, vocÃª verÃ¡:

Na aba Actions:
```
âœ… Deploy Storybook to GitHub Pages
   feat: add storybook deployment workflow
   by atramontdeep - in progress...
